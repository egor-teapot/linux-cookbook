# Туториал по установке и настройке arch linux 

Данный туториал не стремится к тому чтобы исчерпывающе обьяснить
как и что работает, это просто мой конфиг в формате туториала.

Этот туториал предпологает что вы уже запустили
установучную флешку


Последовательность действий:
- Часть 1 (В установщике)
    - Проверка соединения с интернетом
    - Проверка находится ли система в режиме UEFI
    - Выставить timedatectl set-ntp true
    - Выбрать для диска систему GPT
    - Разделение диска на root, boot, swap
    - root - ext4 boot - fat32 swap - linux swap swapon
    - Создать папку efi в /mnt/
    - Mount /dev/boot-partition /mnt/efi
    - Mount /dev/root-partition /mnt
    - Используя pacstrap установить base linux-lts
    linux-firmware man-db man-pages textinfo
    neofetch vim в /mnt
- Часть 2 (В системе)

- Часть 3 (после установки)
    - pacman -Syu xorg xorg-server xorg-xinit


# Настройка Arch вопрос-ответ

### Где находятся раскладки для клавиатуры?
/usr/share/kbd/keymaps/i386/

здесь находятся все стандартные и неочень раскладки клавиатуы
от qwerty до drovak и azerty с qwertz.
по умолчанию стоит us.map.gz

### Как проверить что я нахожусь в режиме efi?
ls /sys/firmvare/efi/efivars/

если выводит строчки, значит вы находитесь в режиме efi

### Как синхронизировать время?
Для синхронизации времени используется утилита timedatectl

```
timedatectl list-timezones
```
выведет доступные временные зоны

```
timedate set-timezone Europe/Moscow
```
Установить время на московское

### Как разметить свободное место на диске?
Для этого используется утилита cfdisk

Перед вами выскочит окошко в котором вам дадут выбрать
какую систему разметки диска вы хотите использовать.

Скорее всего вам предложат

1.gpt
2.dos/ms-dos/mbr
3.sgi
4.sun

Мы рассмотрим только 2 самые популярные gpt и dos.

DOS/MBT

<hr>

- DOS он же Master Boot Record, впервые появилась на IBM PC для DOS 2.0 в 1983.

- Максимальный распозноваемый размер 2 ТР

- При повреждении данных или записи повер них, усложняет процесс востонавления

<br>

<br>

GPT

<hr>

- GPT он же GUID Partition Table, более современный, уже используется на windows 10.

- Максимальный распозноваемый размер около петобайта

- Хранит копии данных на разных разделах, востонавление утерянных данных гораздо проще. Более того, хранит контрольные суммы для проверки сохранности данных, при нахождении неполадок пытается их востонавить из других частей диска.

- Совместимость со старыми способами разметки диска поддерживается благодоря protective MBR, старые системы воспринимают GPT диск как один большой раздел MBR

<br>

Итог если у вас компьютер старше 2019 года, можите спокойно использовать GPT

<br>

### как синхронизировать время на вашем железе

Сначало необходимо вырбать зону
```
ln -sf /usr/share/zoneinfo/Europe/Moscow
```

Затем синхронизовать ее
```
hwclock --systohc
```

<br>

### Для чего используется locale.gen
он находится в etc/ и используется для определения региональных настроек и локализации, а если быть конкретнее:
- Определяет на каком языке будет выводится информация в консоли.
- На каком языке отображается интерфейс.
- В каком формате отображается валюта, дата и время.
- Немного влияет на то как будет вести себя база данных.

Как узнать список сгенерированных локалей?
```
locale -a
```

Как узнать список сгенерированных локалей с дополнительной информацией?
```
locale -a -v
```

Локали по умолчанию находятся в /etc/default/locale

<br>

### Для чего нужен /etc/vsonsole.conf
Это конфиг для конфигурации виртуальной консоли(терминала) линукс

<br>

### Как конфигурировать название вашего хоста
/etc/hosts

/etc/hostname

<br>

### Как создать пользователя
useradd

рассказать про группы для юзеров

passwd

<br>

### Для чего используется как настроить sudo

<br>

### Что такое bootloader
grub

<br>

## Для чего нужен pacstrap?
pacstrap - утилита для установки необходимых пакетов для линукса
таких как: ядро, драйверы, дополнительные программы.

pacstrap принемает следующие аргументы
```
pacstrap instalation_directory packages... 
```

Следующие пакеты необходимы для установки:
- base - базовые компоненты для системы
    (установщик, компиляторы, парочка других утилит)
- linux - существует несколько официальных
    ядер, для надежности лучше устанавливать linux-lts
- linux-firmware - пропреетарные пареты которые
    необходими для работы ядра и системы написанные
    под железо (НЕ ИСКЛЮЧАТЬ ИЗ УСТАНОВКИ)

<br>

### Для чего нужен root boot swap и home?
/ - главная часть диска, он же рут, отводится
основной пласт программ и пакетов необходимые для
работы на операционной системе ~ 20 GB

/boot - часть диска отведенная на то ПО необходимое
для корректного запуска системы. 10 ~ 16 GB

/swap - часть диска отводящаяся для виртуальной памяти, тута выгружаются данные с ОЗУ для
повторного использования или когда
ОЗУ переполнено. Как правило swap устанавливается
в 1.5 или в 2 раза больше GB чем у вас есть ОЗУ.

/home - часть диска отведенная под файлы
пользователя. Почему необходимо выделять
для пользователя отдельное место? При
необходимости переустановить систему,
можно будет просто удалить root и boot
поставя на них новую ОС без необходимости
переносить свои данные на временный накопитель.
Все остальное место на диске

<br>

## Какую файловую систему использовать?
Самыми часто используемыми являются
EXT4, XFS, ZFS, Конкретно немогу нечего пока сказать
о них. Если незнаеш что поставить для root
деректории, ставь EXT4. Есть еще BTRFS,
она мутная, кто-то говорит что она стабильна
кто-то говорит обратное, рисковать пока неохота.

root - ext4

boot - ext4

home - ext4

swap - no file system

<br>

## Как зайти в arch под рутом
В установщике
```
arhc-chroot /mnt
```

<br>

## Что такое genfstab?